{"ast":null,"code":"var _jsxFileName = \"E:\\\\Git\\\\Work\\\\SynodalLegalDedartament3.0\\\\my-app\\\\src\\\\component\\\\Appointments\\\\Appointments.jsx\";\nimport React, { Component } from 'react';\nimport { Form } from 'reactstrap';\nimport Moment from 'react-moment';\nimport { map, filter } from 'underscore';\nimport Table from '../Table/Table';\nimport TextField from '../Form/TextField/TextField';\nimport DateField from '../Form/DateField/DateField';\nimport CheckboxField from '../Form/CheckboxField/CheckboxField';\nimport './Appointments.scss';\nimport { appointments as data } from '../../lib/mock/MockData';\nimport service from '../../services/AppointmentService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TITLE = 'Приёмы';\nconst USER = 'Иванов Иван Иванович';\nexport default class Appointments extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      isLoading: false,\n      filter: {\n        startDate: null,\n        endDate: null,\n        clientName: '',\n        onlyMe: false\n      }\n    };\n\n    this.onChangeFilterField = (name, value) => {\n      const {\n        filter\n      } = this.state;\n      this.setState({\n        filter: { ...filter,\n          ...{\n            [name]: value\n          }\n        }\n      });\n    };\n\n    this.onChangeFilterDateField = (name, value) => {\n      const {\n        filter\n      } = this.state;\n      this.setState({\n        filter: { ...filter,\n          ...{\n            [name]: value && value.getTime()\n          }\n        }\n      });\n    };\n\n    this.onSearch = () => {\n      this.load();\n    };\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  load() {\n    this.setState({\n      isLoading: true\n    });\n    service.find({\n      filter: this.state.filter\n    }).then(({\n      success,\n      data\n    }) => {\n      if (success) {\n        this.setState({\n          data,\n          isLoading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      data,\n      isLoading,\n      filter: {\n        startDate,\n        endDate,\n        clientName,\n        onlyMe\n      }\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Appointments\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Appointments-Body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Appointments-Filter\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"Appointments-FilterForm\",\n            children: [/*#__PURE__*/_jsxDEV(DateField, {\n              hasTime: true,\n              name: \"startDate\",\n              value: startDate,\n              dateFormat: \"dd/MM/yyyy HH:mm\",\n              timeFormat: \"HH:mm\",\n              placeholder: \"\\u0421\",\n              className: \"Appointments-FilterField\",\n              onChange: this.onChangeFilterDateField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DateField, {\n              hasTime: true,\n              name: \"endDate\",\n              value: endDate,\n              dateFormat: \"dd/MM/yyyy HH:mm\",\n              timeFormat: \"HH:mm\",\n              placeholder: \"\\u041F\\u043E\",\n              className: \"Appointments-FilterField\",\n              onChange: this.onChangeFilterDateField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              name: \"clientName\",\n              value: clientName,\n              placeholder: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442\",\n              className: \"Appointments-FilterField\",\n              onChange: this.onChangeFilterField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CheckboxField, {\n              name: \"onlyMe\",\n              label: \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u044F\",\n              value: onlyMe,\n              className: \"Appointments-FilterField\",\n              onChange: this.onChangeFilterField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          data: filtered,\n          className: \"AppointmentList\",\n          columns: [{\n            dataField: 'date',\n            text: 'Дата',\n            headerStyle: {\n              width: '150px'\n            },\n            formatter: (v, row) => {\n              return /*#__PURE__*/_jsxDEV(Moment, {\n                date: v,\n                format: \"DD.MM.YYYY HH.mm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 41\n              }, this);\n            }\n          }, {\n            dataField: 'clientName',\n            text: 'Клиент',\n            headerStyle: {\n              width: '300px'\n            }\n          }, {\n            dataField: 'status',\n            text: 'Статус'\n          }, {\n            dataField: 'holderName',\n            text: 'Принимающий',\n            headerStyle: {\n              width: '300px'\n            }\n          }, {\n            dataField: 'compliences',\n            text: 'Жалобы',\n            headerStyle: {\n              width: '200px'\n            }\n          }, {\n            dataField: 'diagnosis',\n            text: 'Диагноз',\n            headerStyle: {\n              width: '200px'\n            }\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/Git/Work/SynodalLegalDedartament3.0/my-app/src/component/Appointments/Appointments.jsx"],"names":["React","Component","Form","Moment","map","filter","Table","TextField","DateField","CheckboxField","appointments","data","service","TITLE","USER","Appointments","state","isLoading","startDate","endDate","clientName","onlyMe","onChangeFilterField","name","value","setState","onChangeFilterDateField","getTime","onSearch","load","componentDidMount","find","then","success","render","filtered","dataField","text","headerStyle","width","formatter","v","row"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\n\r\nimport {Form} from 'reactstrap'\r\nimport Moment from 'react-moment'\r\nimport {map, filter} from 'underscore'\r\n\r\nimport Table from '../Table/Table'\r\nimport TextField from '../Form/TextField/TextField'\r\nimport DateField from '../Form/DateField/DateField'\r\nimport CheckboxField from '../Form/CheckboxField/CheckboxField'\r\n\r\nimport './Appointments.scss'\r\n\r\nimport {appointments as data} from '../../lib/mock/MockData'\r\nimport service from '../../services/AppointmentService'\r\n\r\nconst TITLE = 'Приёмы'\r\n\r\nconst USER = 'Иванов Иван Иванович'\r\n\r\nexport default class Appointments extends Component {\r\n\r\n    state = {\r\n        data: null,\r\n        isLoading: false,\r\n\r\n        filter: {\r\n            startDate: null,\r\n            endDate: null,\r\n            clientName: '',\r\n            onlyMe: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.load()\r\n    }\r\n\r\n    onChangeFilterField = (name, value) => {\r\n        const { filter } = this.state\r\n\r\n        this.setState({\r\n            filter: { ...filter, ...{ [name]: value } }\r\n        })\r\n    }\r\n\r\n    onChangeFilterDateField = (name, value) => {\r\n        const { filter } = this.state\r\n\r\n        this.setState({\r\n            filter: { ...filter, ...{ [name]: value && value.getTime() } }\r\n        })\r\n    }\r\n\r\n    onSearch = () => {\r\n        this.load()\r\n    }\r\n\r\n    load() {\r\n        this.setState({ isLoading: true })\r\n\r\n        service\r\n            .find({ filter: this.state.filter })\r\n            .then(({ success, data }) => {\r\n                if (success) {\r\n                    this.setState({\r\n                        data, isLoading: false\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            data,\r\n            isLoading,\r\n            filter: {\r\n                startDate,\r\n                endDate,\r\n                clientName,\r\n                onlyMe,\r\n            }\r\n        } = this.state\r\n\r\n        return (\r\n            <div className='Appointments'>\r\n                <div className='Appointments-Body'>\r\n                    <div className='Appointments-Filter'>\r\n                        <Form className='Appointments-FilterForm'>\r\n                            <DateField\r\n                                hasTime\r\n                                name='startDate'\r\n                                value={startDate}\r\n                                dateFormat='dd/MM/yyyy HH:mm'\r\n                                timeFormat='HH:mm'\r\n                                placeholder='С'\r\n                                className='Appointments-FilterField'\r\n                                onChange={this.onChangeFilterDateField}\r\n                            />\r\n                            <DateField\r\n                                hasTime\r\n                                name='endDate'\r\n                                value={endDate}\r\n                                dateFormat='dd/MM/yyyy HH:mm'\r\n                                timeFormat='HH:mm'\r\n                                placeholder='По'\r\n                                className='Appointments-FilterField'\r\n                                onChange={this.onChangeFilterDateField}\r\n                            />\r\n                            <TextField\r\n                                name='clientName'\r\n                                value={clientName}\r\n                                placeholder='Клиент'\r\n                                className='Appointments-FilterField'\r\n                                onChange={this.onChangeFilterField}\r\n                            />\r\n                            <CheckboxField\r\n                                name='onlyMe'\r\n                                label='Только я'\r\n                                value={onlyMe}\r\n                                className='Appointments-FilterField'\r\n                                onChange={this.onChangeFilterField}\r\n                            />\r\n                        </Form>\r\n                    </div>\r\n                    <Table\r\n                        data={filtered}\r\n                        className='AppointmentList'\r\n                        columns={[\r\n                            {\r\n                                dataField: 'date',\r\n                                text: 'Дата',\r\n                                headerStyle: {\r\n                                    width: '150px'\r\n                                },\r\n                                formatter: (v, row) => {\r\n                                    return (\r\n                                        <Moment date={v} format='DD.MM.YYYY HH.mm'/>\r\n                                    )\r\n                                }\r\n                            },\r\n                            {\r\n                                dataField: 'clientName',\r\n                                text: 'Клиент',\r\n                                headerStyle: {\r\n                                    width: '300px'\r\n                                }\r\n                            },\r\n                            {\r\n                                dataField: 'status',\r\n                                text: 'Статус'\r\n                            },\r\n                            {\r\n                                dataField: 'holderName',\r\n                                text: 'Принимающий',\r\n                                headerStyle: {\r\n                                    width: '300px'\r\n                                }\r\n                            },\r\n                            {\r\n                                dataField: 'compliences',\r\n                                text: 'Жалобы',\r\n                                headerStyle: {\r\n                                    width: '200px'\r\n                                }\r\n                            },\r\n                            {\r\n                                dataField: 'diagnosis',\r\n                                text: 'Диагноз',\r\n                                headerStyle: {\r\n                                    width: '200px'\r\n                                }\r\n                            }\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}